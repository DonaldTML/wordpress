adlogicJobSearch.registered_saved_jobs=[],adlogicJobSearch.registered_saved_jobs_pagination_bars=[],adlogicJobSearch.discardHashChange=!1,function(e){e(window).bind("hashchange",function(a){0==adlogicJobSearch.discardHashChangeSavedJobs&&(e.each(adlogicJobSearch.registered_saved_jobs,function(a,o){o.adlogicSavedJobs("hashOptions",e.deparam.fragment())}),"undefined"!=typeof e.deparam.fragment().page&&e.each(adlogicJobSearch.registered_saved_jobs,function(a,o){o.adlogicSavedJobsPagination("setPage",e.deparam.fragment().page)})),adlogicJobSearch.discardHashChangeSavedJobs=!1}),e(document).ready(function(){e.isEmptyObject(e.deparam.fragment())||(e.each(adlogicJobSearch.registered_saved_jobs,function(a,o){o.adlogicSavedJobs("hashOptions",e.deparam.fragment())}),"undefined"!=typeof e.deparam.fragment().page&&e.each(adlogicJobSearch.registered_saved_jobs,function(a,o){o.adlogicSavedJobsPagination("setPage",e.deparam.fragment().page)}))})}(jQuery),function(e){var a,o={searchParams:{},template:null},s=e.extend(o,s),t={},r={init:function(s){var s=e.extend(o,s);return e.each(adlogicJobSearch.registered_saved_jobs,function(e,o){o==this&&(a=!0)}),1==a?!1:(adlogicJobSearch.registered_saved_jobs=adlogicJobSearch.registered_saved_jobs.concat(this),"object"==typeof s.searchParams&&(t=e.extend(!0,{},s.searchParams)),r.getSavedJobs.apply(this,Array({refresh:!0})),void e(document).on("click",".ajb-save-job",function(a){jobAdId=parseInt(e(this).attr("id").replace("save_job_id_","")),adlogicJobSearch.sessionManager.adlogicSessionManager("isLoggedIn")?(e(this).hasClass("saved")&&e.get(adlogicJobSearch.ajaxurl+"?action=removeSavedJob&jobAdId="+jobAdId,function(e){window.location.reload()}),e(this).toggleClass("saved")):adlogicJobSearch.sessionManager.adlogicSessionManager("showDialog")}))},getSavedJobs:function(a){e(".ajb-save-job").toggleClass("saved",!0)},hashOptions:function(a){e.isEmptyObject(a)?(s.searchParams=e.extend(!0,{},t),e.each(adlogicJobSearch.adlogicJobSearch.registered_saved_jobs_pagination_bars,function(e,a){a.adlogicSavedJobsPagination("setPage",t.currentPage)}),r.update.apply(this,Array({force_update:!1,hash_update:!1}))):("undefined"!=typeof a.page&&(s.searchParams.currentPage=parseInt(a.page),s.searchParams.from=parseInt(a.page*s.items_per_page)+1,s.searchParams.to=(parseInt(a.page)+1)*s.items_per_page),"undefined"!=typeof a.costCenter&&(s.searchParams.cost_center_id=a.costCenter),r.update.apply(this,Array({force_update:!1,hash_update:!1})))},options:function(a){return a&&(s=e.extend(!0,s,a)),s},update:function(a){var o=this,t=s.ajaxServer,n={};"undefined"!=typeof s.searchParams.from&&(t+="&from="+s.searchParams.from),"undefined"!=typeof s.searchParams.to&&(t+="&to="+s.searchParams.to),n.page=s.searchParams.currentPage,o.prepend('<span class="adlogic_saved_jobs_loading_div"></span>'),e.blockUI.defaults.css={},o.block({message:"&nbsp;"}),e.each(adlogicJobSearch.registered_saved_jobs_pagination_bars,function(e,a){a.block({message:null})}),e.post(t,{template:s.template},function(t){"undefined"!=typeof t.search_results_html&&(o.empty(),o.append(t.search_results_html),("undefined"==typeof a||1==a.hash_update)&&(window.location.href=e.param.fragment(window.location.href,n)),e.each(adlogicJobSearch.registered_saved_jobs_pagination_bars,function(a,o){paginationOptions={results_count:t.search_results_attributes["@attributes"].count,current_page:s.searchParams.currentPage,items_per_page:t.search_results_attributes["@attributes"].resultsPerPage},o.adlogicSavedJobsPagination("options",paginationOptions),o.adlogicSavedJobsPagination("setPage",s.searchParams.currentPage),"undefined"!=typeof Cufon&&e.isFunction(Cufon)&&Cufon.refresh()})),"object"==typeof stButtons&&stButtons.locateElements(),r.getSavedJobs.apply(this),o.unblock(),e.each(adlogicJobSearch.registered_saved_jobs_pagination_bars,function(e,a){a.unblock()})}),o.remove(".adlogic_loading_div")}};e.fn.adlogicSavedJobs=function(a){return r[a]?r[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void e.error("Method "+a+" does not exist on jQuery.adlogicSavedJobs"):r.init.apply(this,arguments)}}(jQuery),function(e){var a={bound_search:"null",results_count:"",current_page:0,items_per_page:10,num_display_pages:10},o=e.extend(a,o),s=!1,t=function(t,r){0==s?"null"==a.bound_search?e.each(adlogicJobSearch.registered_saved_jobs,function(e,a){adlogicJobSearch.discardHashChangeSavedJobs=!0,fromPage=t*o.items_per_page+1,toPage=(t+1)*o.items_per_page,a.adlogicSavedJobs("options",{searchParams:{from:fromPage,to:toPage,currentPage:t}}),a.adlogicSavedJobs("update")}):(fromPage=t*o.items_per_page+1,toPage=(t+1)*o.items_per_page,e(a.bound_search).adlogicSavedJobs("options",{searchParams:{from:fromPage,to:toPage,currentPage:t}}),e(a.bound_search).adlogicSavedJobs("update")):s=!1},r={init:function(o){adlogicJobSearch.registered_saved_jobs_pagination_bars=adlogicJobSearch.registered_saved_jobs_pagination_bars.concat(this);var o=e.extend(a,o);s=!0,this.pagination(o.results_count,{current_page:o.current_page,items_per_page:o.items_per_page,num_display_entries:o.num_display_pages,num_edge_entries:2,callback:t})},options:function(a){return a&&(o=e.extend(!0,o,a)),o},setPage:function(e){s=!0,this.pagination(o.results_count,{current_page:e,items_per_page:o.items_per_page,num_display_entries:o.num_display_pages,num_edge_entries:2,callback:t})}};e.fn.adlogicSavedJobsPagination=function(a){return r[a]?r[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void e.error("Method "+a+" does not exist on jQuery.adlogicSavedJobsPagination"):r.init.apply(this,arguments)}}(jQuery);