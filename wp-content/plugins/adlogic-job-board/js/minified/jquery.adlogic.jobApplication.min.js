!function(e){var a,i={data:null,job_ad_id:null,tracking_code:null,validate_candidate_email:!0,use_system_fields:!1},t=new RegExp(".(doc|docx|txt|pdf|rtf|htm|html|ppt|pptx|gif|png|jpg)$","i"),o=e.extend(i,o),n={init:function(t){var t=e.extend(i,t);thisObj=this,a=e(this),this.find("input#ajb-submitApplication").click(function(){n.submit.apply(thisObj,[{button:this}])}),this.find("input#ajb-sendSMS").click(function(){n.smsSend.apply(thisObj,[{button:this}])}),this.find("input#ajb-sendEmail").click(function(){n.emailSend.apply(thisObj,[{button:this,type:"self"}])}),this.find("input#ajb-sendEmailFriend").click(function(){n.emailSend.apply(thisObj,[{button:this,type:"friend"}])}),this.find(".ajb_field_file_multiple a.add_file").click(function(){e(this).parent().find("input").length<5&&(newFile=e("<p></p>"),newFile.html(e(e(this).parent().find("input").get(0)).clone().val("")),newFile.append('<a href="javascript:void(0);" class="remove_file">Remove File</a>'),e(this).before(newFile),5==e(this).parent().find("input").length&&e(this).hide())}),this.on("click",".ajb_field_file_multiple a.remove_file",function(){5==e(this).parents(".ajb_field_file_multiple").find("input").length&&e(this).parents(".ajb_field_file_multiple").find("a.add_file").show(),e(this).parent("p").remove()});var o=e(".ajb_field_date_month_year"),l=e(".ajb_field_date");e(l).each(function(a){e(this).datepicker({dateFormat:"dd/mm/yy",changeYear:!0,yearRange:"-30:+0"})}),e(o).each(function(a){var i="";e(this).MonthPicker({ShowIcon:!0,OnAfterMenuClose:function(){var t=e(o[a]).MonthPicker("GetSelectedMonth");switch(t){case 1:t="01";break;case 2:t="02";break;case 3:t="03";break;case 4:t="04";break;case 5:t="05";break;case 6:t="06";break;case 7:t="07";break;case 8:t="08";break;case 9:t="09";break;case 10:t="10";break;case 11:t="11";break;case 12:t="12"}i=t+"/"+e(o[a]).MonthPicker("GetSelectedYear"),e(this).val(i)}}),e("#ajb-submitApplication").click(function(){e(o[a]).val(i)})});var r=e(".ajb_field_select_multiple");e(r).each(function(a){var i=e("option",e(this));i.length>=5?e(this).multiSelect({selectableHeader:"<input type='text' class='search-input' autocomplete='off'>",selectionHeader:"<input type='text' class='search-input' autocomplete='off'>",afterInit:function(e){var a=this,i=a.$selectableUl.prev(),t=a.$selectionUl.prev(),o="#"+a.$container.attr("id")+" .ms-elem-selectable:not(.ms-selected)",n="#"+a.$container.attr("id")+" .ms-elem-selection.ms-selected";a.qs1=i.quicksearch(o).on("keydown",function(e){return 40===e.which?(a.$selectableUl.focus(),!1):void 0}),a.qs2=t.quicksearch(n).on("keydown",function(e){return 40==e.which?(a.$selectionUl.focus(),!1):void 0})},afterSelect:function(){this.qs1.cache(),this.qs2.cache()},afterDeselect:function(){this.qs1.cache(),this.qs2.cache()}}):e(this).multiSelect()}),1==t.indeed_application_success&&n.indeedApplicationSuccess.apply(thisObj),e(document).trigger("adlogicJobSearch.jobApplication.init",[a,t])},options:function(a){return a&&(o=e.extend(!0,o,a)),o},dropboxFileInfo:function(a){a&&(o=e.extend(!0,o,{data:a}))},thirdPartyFileInfo:function(a){a&&(o=e.extend(!0,o,{data:a}))},onLogin:function(i){if(i){switch(o=e.extend(!0,o,{data:i}),applicationForm=this.children(".ajb-application-details"),e.isEmptyObject(e.deparam.fragment())||(fragParams=e.deparam.fragment(),"undefined"!=typeof e.deparam.fragment().login_type&&this.find("#ajb-profile-source").val(e.deparam.fragment().login_type)),this.find("#ajb-profile-source").val()){case"linkedIn_Account":e(".ajb-job-application").hide(),e(".ajb-application-acknowledgement").fadeIn("slow");break;case"linkedin":e(".indeedApplyContainer").toggle(!1),applicationForm.find(".ajb-application-form").toggle(!0),applicationForm.find(".ajb-profile-box").toggle(!0),applicationForm.find(".ajb-resume-upload").toggle(!1),0==o.use_system_fields?(applicationForm.find("#ajb-first-name").val(i.linkedIn["first-name"]),applicationForm.find("#ajb-last-name").val(i.linkedIn["last-name"]),"undefined"!=typeof i.linkedIn["email-address"]&&applicationForm.find("#ajb-email-address").val(i.linkedIn["email-address"])):(applicationForm.find('[name="SystemFirstName"]').val(i.linkedIn["first-name"]),applicationForm.find('[name="SystemLastName"]').val(i.linkedIn["last-name"]),"undefined"!=typeof i.linkedIn["email-address"]&&applicationForm.find('[name="SystemEmailAddress"]').val(i.linkedIn["email-address"])),applicationForm.find(".ajb-profile-box").append('<a href="'+i.linkedIn["public-profile-url"]+'"><img src="'+i.linkedIn["picture-url"]+'" target="_blank"></a>'),applicationForm.find(".ajb-profile-box").append('<span class="linkedin_username">'+i.linkedIn["formatted-name"]+"</span>"),applicationForm.find(".ajb-profile-box").append('<span class="linkedin_headline">'+(i.linkedIn.headline?i.linkedIn.headline:"")+"</span>"),applicationForm.find(".ajb-profile-box").append('<span class="resume_preview"><a href="javascript:void(0);">Preview Resume (PDF)</a></span>'),applicationForm.fadeIn();break;case"facebook":e(".indeedApplyContainer").toggle(!1),applicationForm.find(".ajb-application-form").toggle(!0),applicationForm.find(".ajb-profile-box").toggle(!0),applicationForm.find(".ajb-resume-upload").toggle(!1),0==o.use_system_fields?(applicationForm.find("#ajb-first-name").val(i.facebook.first_name),applicationForm.find("#ajb-last-name").val(i.facebook.last_name),"undefined"!=typeof i.facebook.email&&applicationForm.find("#ajb-email-address").val(i.facebook.email)):(applicationForm.find('[name="SystemFirstName"]').val(i.facebook.first_name),applicationForm.find('[name="SystemLastName"]').val(i.facebook.last_name),"undefined"!=typeof i.facebook.email&&applicationForm.find('[name="SystemEmailAddress"]').val(i.facebook.email)),applicationForm.find(".ajb-profile-box").append('<a href="'+i.facebook.link+'"><img src="https://graph.facebook.com/'+i.facebook.id+'/picture?width=80&height=80&return_ssl_resources=1" target="_blank"></a>'),applicationForm.find(".ajb-profile-box").append('<span class="facebook_username">'+i.facebook.name+"</span>"),applicationForm.find(".ajb-profile-box").append('<span class="facebook_headline">'+(i.facebook.bio?i.facebook.bio:"")+"</span>"),applicationForm.find(".ajb-profile-box").append('<span class="resume_preview"><a href="javascript:void(0);">Preview Resume (PDF)</a></span>'),applicationForm.fadeIn();break;case"google-plus":e(".indeedApplyContainer").toggle(!1),applicationForm.find(".ajb-application-form").toggle(!0),applicationForm.find(".ajb-profile-box").toggle(!0),applicationForm.find(".ajb-resume-upload").toggle(!1),0==o.use_system_fields?(applicationForm.find("#ajb-first-name").val(i.googlePlus.name.givenName),applicationForm.find("#ajb-last-name").val(i.googlePlus.name.familyName),"undefined"!=typeof i.googlePlus.Google_Userinfo.email&&applicationForm.find("#ajb-email-address").val(i.googlePlus.Google_Userinfo.email)):(applicationForm.find('[name="SystemFirstName"]').val(i.googlePlus.name.givenName),applicationForm.find('[name="SystemLastName"]').val(i.googlePlus.name.familyName),"undefined"!=typeof i.googlePlus.Google_Userinfo.email&&applicationForm.find('[name="SystemEmailAddress"]').val(i.googlePlus.Google_Userinfo.email)),applicationForm.find(".ajb-profile-box").append('<a href="'+i.googlePlus.url+'"><img src="'+i.googlePlus.Google_Userinfo.picture+'?sz=80" target="_blank"></a>'),applicationForm.find(".ajb-profile-box").append('<span class="googlePlus_username">'+i.googlePlus.displayName+"</span>"),applicationForm.find(".ajb-profile-box").append('<span class="googlePlus_headline">'+(i.googlePlus.tagline?i.googlePlus.tagline:"")+"</span>"),applicationForm.find(".ajb-profile-box").append('<span class="resume_preview"><a href="javascript:void(0);">Preview Resume (PDF)</a></span>'),applicationForm.fadeIn();break;case"upload":e(".indeedApplyContainer").toggle(!1),applicationForm.find(".ajb-application-form").toggle(!0),applicationForm.find(".ajb-profile-box").toggle(!1),applicationForm.find(".ajb-resume-upload").toggle(!0),applicationForm.fadeIn();break;case"indeed":e(".indeedApplyContainer").toggle(!0),applicationForm.find(".ajb-profile-box").toggle(!1),applicationForm.find(".ajb-profile-box").toggle(!1),applicationForm.find(".ajb-application-form").toggle(!1)}return a=e(this),this.find("#ajb-profile-source").change(function(t,n){switch(e(this).val()){case"linkedin":e(".indeedApplyContainer").toggle(!1),applicationForm.find(".ajb-application-form").toggle(!0),applicationForm.find(".ajb-profile-box").toggle(!0),applicationForm.find(".ajb-resume-upload").toggle(!1),0==o.use_system_fields?(applicationForm.find("#ajb-first-name").val(i.linkedIn["first-name"]),applicationForm.find("#ajb-last-name").val(i.linkedIn["last-name"]),"undefined"!=typeof i.linkedIn["email-address"]&&applicationForm.find("#ajb-email-address").val(i.linkedIn["email-address"])):(applicationForm.find('[name="SystemFirstName"]').val(i.linkedIn["first-name"]),applicationForm.find('[name="SystemLastName"]').val(i.linkedIn["last-name"]),"undefined"!=typeof i.linkedIn["email-address"]&&applicationForm.find('[name="SystemEmailAddress"]').val(i.linkedIn["email-address"])),applicationForm.find(".ajb-profile-box").empty(),applicationForm.find(".ajb-profile-box").append('<a href="'+i.linkedIn["public-profile-url"]+'"><img src="'+i.linkedIn["picture-url"]+'" target="_blank"></a>'),applicationForm.find(".ajb-profile-box").append('<span class="linkedin_username">'+i.linkedIn["formatted-name"]+"</span>"),applicationForm.find(".ajb-profile-box").append('<span class="linkedin_headline">'+(i.linkedIn.headline?i.linkedIn.headline:"")+"</span>"),applicationForm.find(".ajb-profile-box").append('<span class="resume_preview"><a href="javascript:void(0);">Preview Resume (PDF)</a></span>'),applicationForm.fadeIn(),e(document).trigger("adlogicJobSearch.jobApplication.profile.load",[a,o]);break;case"facebook":e(".indeedApplyContainer").toggle(!1),applicationForm.find(".ajb-application-form").toggle(!0),applicationForm.find(".ajb-profile-box").toggle(!0),applicationForm.find(".ajb-resume-upload").toggle(!1),0==o.use_system_fields?(applicationForm.find("#ajb-first-name").val(i.facebook.first_name),applicationForm.find("#ajb-last-name").val(i.facebook.last_name),"undefined"!=typeof i.facebook.email&&applicationForm.find("#ajb-email-address").val(i.facebook.email)):(applicationForm.find('[name="SystemFirstName"]').val(i.facebook.first_name),applicationForm.find('[name="SystemLastName"]').val(i.facebook.last_name),"undefined"!=typeof i.facebook.email&&applicationForm.find('[name="SystemEmailAddress"]').val(i.facebook.email)),applicationForm.find(".ajb-profile-box").empty(),applicationForm.find(".ajb-profile-box").append('<a href="'+i.facebook.link+'"><img src="https://graph.facebook.com/'+i.facebook.id+'/picture?width=80&height=80&return_ssl_resources=1" target="_blank"></a>'),applicationForm.find(".ajb-profile-box").append('<span class="facebook_username">'+i.facebook.name+"</span>"),applicationForm.find(".ajb-profile-box").append('<span class="facebook_headline">'+(i.facebook.bio?i.facebook.bio:"")+"</span>"),applicationForm.find(".ajb-profile-box").append('<span class="resume_preview"><a href="javascript:void(0);">Preview Resume (PDF)</a></span>'),applicationForm.fadeIn(),e(document).trigger("adlogicJobSearch.jobApplication.profile.load",[a,o]);break;case"google-plus":e(".indeedApplyContainer").toggle(!1),applicationForm.find(".ajb-application-form").toggle(!0),applicationForm.find(".ajb-profile-box").toggle(!0),applicationForm.find(".ajb-resume-upload").toggle(!1),0==o.use_system_fields?(applicationForm.find("#ajb-first-name").val(i.googlePlus.name.givenName),applicationForm.find("#ajb-last-name").val(i.googlePlus.name.familyName),"undefined"!=typeof i.googlePlus.Google_Userinfo.email&&applicationForm.find("#ajb-email-address").val(i.googlePlus.Google_Userinfo.email)):(applicationForm.find('[name="SystemFirstName"]').val(i.googlePlus.name.givenName),applicationForm.find('[name="SystemLastName"]').val(i.googlePlus.name.familyName),"undefined"!=typeof i.googlePlus.Google_Userinfo.email&&applicationForm.find('[name="SystemEmailAddress"]').val(i.googlePlus.Google_Userinfo.email)),applicationForm.find(".ajb-profile-box").empty(),applicationForm.find(".ajb-profile-box").append('<a href="'+i.googlePlus.url+'"><img src="'+i.googlePlus.Google_Userinfo.picture+'?sz=80" target="_blank"></a>'),applicationForm.find(".ajb-profile-box").append('<span class="googlePlus_username">'+i.googlePlus.displayName+"</span>"),applicationForm.find(".ajb-profile-box").append('<span class="googlePlus_headline">'+(i.googlePlus.tagline?i.googlePlus.tagline:"")+"</span>"),applicationForm.find(".ajb-profile-box").append('<span class="resume_preview"><a href="javascript:void(0);">Preview Resume (PDF)</a></span>'),applicationForm.fadeIn(),e(document).trigger("adlogicJobSearch.jobApplication.profile.load",[a,o]);break;case"upload":e(".indeedApplyContainer").toggle(!1),applicationForm.find(".ajb-application-form").toggle(!0),applicationForm.find(".ajb-profile-box").toggle(!1),applicationForm.find(".ajb-resume-upload").toggle(!0),applicationForm.fadeIn(),e(document).trigger("adlogicJobSearch.jobApplication.profile.upload",[a,o]);break;case"indeed":e(".indeedApplyContainer").toggle(!0),applicationForm.find(".ajb-profile-box").toggle(!1),applicationForm.find(".ajb-profile-box").toggle(!1),applicationForm.find(".ajb-application-form").toggle(!1),e(document).trigger("adlogicJobSearch.jobApplication.indeed.apply",[a,o])}}),this.on("click",".resume_preview",function(a){switch(submitObject={},applicationForm.find("#ajb-profile-source").val()){case"linkedin":submitObject.linkedInData=linkedin_profile_datastring;break;case"facebook":submitObject.facebookData=facebook_profile_datastring;break;case"google-plus":submitObject.googlePlusData=google_plus_profile_datastring}e.download(adlogicJobSearch.ajaxurl+"?action=getResume",submitObject,"post")}),!0}return!1},smsSend:function(){mobileNumber=this.find("#ajb-mobile-input").val(),/(^1300\d{6}$)|(^1800|1900|1902\d{6}$)|(^0[2|3|7|8]{1}[0-9]{8}$)|(^13\d{4}$)|(^04\d{2,3}\d{6}$)/i.test(mobileNumber)?(submitObject={jobTitle:o.job_title,jobAdUrl:o.sms_job_url,mobileNumber:mobileNumber},e.ajax(adlogicJobSearch.ajaxurl+"?action=sendJobSMS",{data:submitObject,type:"post",success:function(i){alert("SMS Sent!"),e(document).trigger("adlogicJobSearch.jobApplication.smsSent",[a,o])}})):alert("Invalid mobile number! Please try again. Numbers must not contain spaces or brackets.")},emailSend:function(i){yourEmailAddress=this.find("#ajb-your-email-send-address").val(),"self"==i.type?emailAddress=this.find("#ajb-email-send-address").val():emailAddress=this.find("#ajb-friend-email-send-address").val();var t=!1;/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(emailAddress)?t=!0:(alert("Invalid email address. Please check the email address and try again!"),t=!1),1==t&&"friend"==i.type&&(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(yourEmailAddress)?t=!0:(alert("Your email address is invalid. Please check your email address and try again!"),t=!1)),1==t&&("friend"==i.type?submitObject={jobTitle:o.job_title,jobAdUrl:o.email_job_url,yourEmailAddress:yourEmailAddress,emailAddress:emailAddress,content:e("#ajb-message-input").val()}:submitObject={jobTitle:o.job_title,jobAdUrl:o.job_url,emailAddress:emailAddress},e.ajax(adlogicJobSearch.ajaxurl+"?action=sendJobEmail",{data:submitObject,type:"post",success:function(i){alert("Email Sent!"),e(document).trigger("adlogicJobSearch.jobApplication.emailSent",[a,o])}}))},submit:function(i){applicationForm=this.children(".ajb-application-details"),"false"==o.use_system_fields?(submitObject={jobAdId:o.job_ad_id,firstName:applicationForm.find("#ajb-first-name").val(),lastName:applicationForm.find("#ajb-last-name").val(),emailAddress:applicationForm.find("#ajb-email-address").val(),phoneNumber:applicationForm.find("#ajb-phone-number").val(),comments:applicationForm.find("#ajb-comments").val(),applicationCriteria:new Array,customFieldData:new Array,trackingCode:o.tracking_code,validate_candidate_email:o.validate_candidate_email,advId:"",is_jobkey:""},"true"==o.is_job&&(submitObject.advId=o.adv_id,submitObject.is_job=o.is_job)):(submitObject={jobAdId:o.job_ad_id,firstName:applicationForm.find("#ajb-first-name").val(),lastName:applicationForm.find("#ajb-last-name").val(),emailAddress:applicationForm.find("#ajb-email-address").val(),phoneNumber:applicationForm.find("#ajb-phone-number").val(),comments:applicationForm.find("#ajb-comments").val(),applicationCriteria:new Array,customFieldData:new Array,trackingCode:o.tracking_code,validate_candidate_email:o.validate_candidate_email,advId:"",is_jobkey:""},1==o.is_job&&(submitObject.advId=o.adv_id,submitObject.is_job=o.is_job),e(".ajb_application_criteria").each(function(a){if(""==e(this).attr("mappedField"));else{if("Name"==e(this).attr("mappedField")){var i=e(this).find("input, select");submitObject.firstName=i.val()}if("Surname"==e(this).attr("mappedField")){var i=e(this).find("input, select");submitObject.lastName=i.val()}if("Email"==e(this).attr("mappedField")){var i=e(this).find("input, select");submitObject.emailAddress=i.val()}}}));var n=!1,l="";switch(void 0!=o.data.upload_type&&(submitObject.upload_type=upload_type),void 0!=o.data.dropbox_selected_file_name&&(submitObject.dropbox_file_name=dropbox_selected_file_name),void 0!=o.data.dropbox_selected_file_data&&(submitObject.dropbox_selected_file_data=dropbox_selected_file_data),void 0!=o.data.googledrive_resume_selected_file_name&&(submitObject.googledrive_resume_selected_file_name=googledrive_resume_selected_file_name),void 0!=o.data.googledrive_resume_selected_file_data&&(submitObject.googledrive_resume_selected_file_data=googledrive_resume_selected_file_data),void 0!=o.data.googledrive_coverletter_selected_file_name&&(submitObject.googledrive_coverletter_selected_file_name=googledrive_coverletter_selected_file_name),void 0!=o.data.googledrive_coverletter_selected_file_data&&(submitObject.googledrive_coverletter_selected_file_data=googledrive_coverletter_selected_file_data),void 0!=o.data.onedrive_selected_file_name&&(submitObject.onedrive_selected_file_name=onedrive_selected_file_name),void 0!=o.data.onedrive_selected_file_data&&(submitObject.onedrive_selected_file_data=onedrive_selected_file_data),this.find("#ajb-profile-source").val()){case"linkedIn_Account":e(".ajb-job-application").hide(),e(".ajb-application-acknowledgement").fadeIn("slow");break;case"linkedin":submitObject.linkedInData=e.stringifyJSON(o.data.linkedIn);break;case"facebook":submitObject.facebookData=e.stringifyJSON(o.data.facebook);break;case"google-plus":submitObject.googlePlusData=e.stringifyJSON(o.data.googlePlus);break;case"upload":void 0==o.data.dropbox_selected_file_name&&void 0==o.data.dropbox_selected_file_data&&void 0==o.data.googledrive_selected_file_name&&void 0==o.data.googledrive_selected_file_data&&void 0==o.data.onedrive_selected_file_name&&void 0==o.data.onedrive_selected_file_data&&(1==o.is_mobile?""==this.find("#ajb-comments").val()&&1==this.find("#ajb-comments").hasClass("mandatory")?(applicationForm.find("#ajb-comments").addClass("adlogic_error"),n=!0,l+="- No Cover Letter (Comments) Submitted\n"):applicationForm.find("#ajb-comments").removeClass("adlogic_error"):""==this.find("#ajb-cover-letter").val()&&0==this.find("#ajb-cover-letter").hasClass("mandatory")?applicationForm.find("#ajb-cover-letter").removeClass("adlogic_error"):""==this.find("#ajb-cover-letter").val()&&1==this.find("#ajb-cover-letter").hasClass("mandatory")?(applicationForm.find("#ajb-cover-letter").addClass("adlogic_error"),n=!0,l+="- No Cover Letter Submitted\n"):t.test(this.find("#ajb-cover-letter").val())?applicationForm.find("#ajb-cover-letter").removeClass("adlogic_error"):(applicationForm.find("#ajb-cover-letter").addClass("adlogic_error"),n=!0,l+="- Invalid Cover Letter File, accepted file types are:\n",l+="doc, docx, txt, pdf, rtf, htm, html, ppt, pptx\n"),1==o.is_mobile?1==o.resume_mandatory?""==this.find("#ajb-resume").val()?(applicationForm.find("#ajb-resume").addClass("adlogic_error"),n=!0,l+="- No Resume Submitted\n"):t.test(this.find("#ajb-resume").val())?applicationForm.find("#ajb-resume").removeClass("adlogic_error"):(applicationForm.find("#ajb-resume").addClass("adlogic_error"),n=!0,l+="- Invalid Resume File, accepted file types are:\n",l+="doc, docx, txt, pdf, rtf, htm, html, ppt, pptx, jpg, png, gif\n"):""==this.find("#ajb-resume").val()||(t.test(this.find("#ajb-resume").val())?applicationForm.find("#ajb-resume").removeClass("adlogic_error"):(applicationForm.find("#ajb-resume").addClass("adlogic_error"),n=!0,l+="- Invalid Resume File, accepted file types are:\n",l+="doc, docx, txt, pdf, rtf, htm, html, ppt, pptx, jpg, png, gif\n")):1==o.resume_mandatory?""==this.find("#ajb-resume").val()?(applicationForm.find("#ajb-resume").addClass("adlogic_error"),n=!0,l+="- No Resume Submitted\n"):t.test(this.find("#ajb-resume").val())?applicationForm.find("#ajb-resume").removeClass("adlogic_error"):(applicationForm.find("#ajb-resume").addClass("adlogic_error"),n=!0,l+="- Invalid Resume File, accepted file types are:\n",l+="doc, docx, txt, pdf, rtf, htm, html, ppt, pptx\n"):""!=this.find("#ajb-resume").val()&&(t.test(this.find("#ajb-resume").val())||(applicationForm.find("#ajb-resume").addClass("adlogic_error"),n=!0,l+="- Invalid Resume File, accepted file types are:\n",l+="doc, docx, txt, pdf, rtf, htm, html, ppt, pptx\n")))}if("Name"==e(".ajb_application_criteria").attr("mappedField")||(""==submitObject.firstName?(applicationForm.find("#ajb-first-name").addClass("adlogic_error"),n=!0,l+="- No First Name Entered\n"):applicationForm.find("#ajb-first-name").removeClass("adlogic_error")),"Surname"==e(".ajb_application_criteria").attr("mappedField")||(""==submitObject.lastName?(applicationForm.find("#ajb-last-name").addClass("adlogic_error"),n=!0,l+="- No Last Name Entered\n"):applicationForm.find("#ajb-last-name").removeClass("adlogic_error")),1==o.validate_candidate_email&&(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i.test(submitObject.emailAddress)?1==o.use_system_fields?e(".ajb_application_criteria").each(function(a){if(""==e(this).attr("mappedField"));else if("Email"==e(this).attr("mappedField")){var i=e(this).find("input, select");i.removeClass("adlogic_error_email")}}):applicationForm.find("#ajb-email-address").removeClass("adlogic_error"):1==o.use_system_fields?(e(".ajb_application_criteria").each(function(a){if(""==e(this).attr("mappedField"));else if("Email"==e(this).attr("mappedField")){var i=e(this).find("input, select");i.addClass("adlogic_error_email")}}),n=!0,l+="- Invalid Email Address\n"):(applicationForm.find("#ajb-email-address").addClass("adlogic_error"),n=!0,l+="- Invalid Email Address\n")),e(".ajb_application_criteria").length>0&&e.each(e(".ajb_application_criteria"),function(a,i){if(criteriaInput=e(i).find("input,select,textarea"),criteriaInput.length&&(criteriaInput.hasClass("mandatory")&&""==criteriaInput.val()?criteriaInput.hasClass("ajb_field_numeric")||(criteriaInput.addClass("adlogic_error"),n=!0,l+="- Question '"+e(i).find("label").text()+"' was left blank\n"):criteriaInput.removeClass("adlogic_error"),criteriaInput.hasClass("ajb_field_numeric")&&(e(criteriaInput).hasClass("mandatory")?""==criteriaInput.val()?(criteriaInput.addClass("adlogic_error"),n=!0,l+="- Question '"+e(i).find("label").text()+"' was left blank\n"):e.isNumeric(criteriaInput.val())||(criteriaInput.addClass("adlogic_error"),n=!0,l+="- Question '"+e(i).find("label").text()+"' has invalid characters\n"):""==!criteriaInput.val()&&(e.isNumeric(criteriaInput.val())||(criteriaInput.addClass("adlogic_error"),n=!0,l+="- Question '"+e(i).find("label").text()+"' has invalid characters\n"))),"file"!=criteriaInput.attr("type")))if(criteriaInput.hasClass("custom_field"))submitObject.customFieldData.push({id:parseInt(criteriaInput.attr("id").replace("ajb_custom_field_id_","")),value:criteriaInput.val()});else if(e(criteriaInput).is(":hidden"));else{var t=e("option:selected",criteriaInput);e(criteriaInput).attr("multiple")?e(criteriaInput).hasClass("mandatory")?t.length<1?(e(i).find("ms-container").addClass("adlogic_error"),criteriaInput.addClass("adlogic_error"),n=!0,l+="- Question '"+e(i).find("label").text()+"' was left blank\n"):1==t.length?submitObject.applicationCriteria.push({id:parseInt(criteriaInput.attr("id").replace("ajb_question_id_","")),value:criteriaInput.val()+"|||"}):submitObject.applicationCriteria.push({id:parseInt(criteriaInput.attr("id").replace("ajb_question_id_","")),value:criteriaInput.val().join("|||")}):t.length<1||(1==t.length?submitObject.applicationCriteria.push({id:parseInt(criteriaInput.attr("id").replace("ajb_question_id_","")),value:criteriaInput.val()+"|||"}):submitObject.applicationCriteria.push({id:parseInt(criteriaInput.attr("id").replace("ajb_question_id_","")),value:criteriaInput.val().join("|||")})):submitObject.applicationCriteria.push({id:parseInt(criteriaInput.attr("id").replace("ajb_question_id_","")),value:criteriaInput.val()})}}),n)alert("Please correct the application form errors:\n\n"+l);else{switch(e(i.button).attr("disabled",!0),loadingDiv=e('<span class="adlogic_search_loading_div"></span>'),e(i.button).parent().append(loadingDiv),applicationForm.find("form").attr("action",adlogicJobSearch.ajaxurl+"?action=jobApplication"),applicationForm.find("form").append('<input type="hidden" class="ajb-job-ad-id" name="jobAdId" value="'+o.job_ad_id+'">'),applicationForm.find("form").append('<input type="hidden" class="ajb-tracking-code" name="tracking_code" value="'+(o.tracking_code?o.tracking_code:"")+'">'),1==o.is_job&&(applicationForm.find("form").append('<input type="hidden" class="ajb-adv-id" name="advId" value="'+submitObject.advId+'">'),applicationForm.find("form").append('<input type="hidden" class="ajb-is-job" name="isJob" value="'+submitObject.is_job+'">')),e.each(submitObject.applicationCriteria,function(e,a){applicationForm.find("form").append('<input type="hidden" class="ajb-criteria-values" name="applicationCriteria['+e+'][id]" value="'+a.id+'">'),applicationForm.find("form").append('<input type="hidden" class="ajb-criteria-values" name="applicationCriteria['+e+'][value]" value="'+a.value+'">')}),e.each(submitObject.customFieldData,function(e,a){applicationForm.find("form").append('<input type="hidden" class="ajb-criteria-values" name="customFieldData['+e+'][id]" value="'+a.id+'">'),applicationForm.find("form").append('<input type="hidden" class="ajb-criteria-values" name="customFieldData['+e+'][value]" value="'+a.value+'">')}),void 0!=o.data.dropbox_selected_file_name&&""!=o.data.dropbox_selected_file_name&&applicationForm.find("form").append('<input type="hidden" class="ajb-criteria-values" name="dropbox_selected_file_name" value="'+dropbox_selected_file_name+'">'),void 0!=o.data.dropbox_selected_file_data&&""!=o.data.dropbox_selected_file_data&&applicationForm.find("form").append('<input type="hidden" class="ajb-criteria-values" name="dropbox_selected_file_data" value='+dropbox_selected_file_data+">"),void 0!=o.data.googledrive_selected_file_name&&""!=o.data.googledrive_selected_file_name&&applicationForm.find("form").append('<input type="hidden" class="ajb-criteria-values" name="googledrive_selected_file_name" value="'+googledrive_selected_file_name+'">'),void 0!=o.data.googledrive_selected_file_data&&""!=o.data.googledrive_selected_file_data&&applicationForm.find("form").append('<input type="hidden" class="ajb-criteria-values" name="googledrive_selected_file_data" value="'+googledrive_selected_file_data+'">'),void 0!=o.data.onedrive_selected_file_name&&""!=o.data.onedrive_selected_file_name&&applicationForm.find("form").append('<input type="hidden" class="ajb-criteria-values" name="onedrive_selected_file_name" value="'+onedrive_selected_file_name+'">'),void 0!=o.data.onedrive_selected_file_data&&""!=o.data.onedrive_selected_file_data&&applicationForm.find("form").append('<input type="hidden" class="ajb-criteria-values" name="onedrive_selected_file_data" value="'+onedrive_selected_file_data+'">'),this.find("#ajb-profile-source").val()){case"linkedin":applicationForm.find("form").append('<input type="hidden" class="ajb-criteria-values" name="linkedInData" value="'+linkedin_profile_datastring+'">');break;case"facebook":applicationForm.find("form").append('<input type="hidden" class="ajb-criteria-values" name="facebookData" value="'+facebook_profile_datastring+'">');break;case"google-plus":applicationForm.find("form").append('<input type="hidden" class="ajb-criteria-values" name="googlePlusData" value="'+google_plus_profile_datastring+'">')}applicationForm.find("form").iframePostForm({iframeID:o.bound_application+"_iframe",json:!0,post:function(){},complete:function(t){1==t.result?(a.fadeOut("slow"),e(window).scrollTop(0),e(".ajb-application-acknowledgement").fadeIn("slow"),e(document).trigger("adlogicJobSearch.jobApplication.applicationSuccess",[a,o])):alert("Your application has been unsuccessful due to the following errors:\n"+t.message+"\n\nPlease check your details and try again."),applicationForm.find("form").attr("action",""),applicationForm.find("form").find(".ajb-job-ad-id").remove(),applicationForm.find("form").find(".ajb-criteria-values").remove(),applicationForm.find("form").find(".ajb-tracking-code").remove(),applicationForm.find("form").find(".ajb-adv-id").remove(),
applicationForm.find("form").unbind("submit"),loadingDiv.remove(),e(i.button).attr("disabled",!1)}}),applicationForm.find("form").submit()}},indeedApplicationSuccess:function(){a=e(this),a.fadeOut("slow"),e(window).scrollTop(0),e(".ajb-application-acknowledgement").fadeIn("slow"),e(document).trigger("adlogicJobSearch.jobApplication.applicationSuccess",[a,o])}};e.fn.adlogicJobApplication=function(a){return n[a]?n[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void e.error("Method "+a+" does not exist on jQuery.adlogicJobApplication"):n.init.apply(this,arguments)}}(jQuery),function(e){function a(e){return'"'+e.replace(o,function(e){var a=n[e];return"string"==typeof a?a:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"'}function i(e){return 10>e?"0"+e:e}function t(e,o){var n,l,r,d,s=o[e],p=typeof s;switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(e),p=typeof s),p){case"string":return a(s);case"number":return isFinite(s)?String(s):"null";case"boolean":return String(s);case"object":if(!s)return"null";switch(Object.prototype.toString.call(s)){case"[object Date]":return isFinite(s.valueOf())?'"'+s.getUTCFullYear()+"-"+i(s.getUTCMonth()+1)+"-"+i(s.getUTCDate())+"T"+i(s.getUTCHours())+":"+i(s.getUTCMinutes())+":"+i(s.getUTCSeconds())+'Z"':"null";case"[object Array]":for(r=s.length,d=[],n=0;r>n;n++)d.push(t(n,s)||"null");return"["+d.join(",")+"]";default:d=[];for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(l=t(n,s),l&&d.push(a(n)+":"+l));return"{"+d.join(",")+"}"}}}var o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,n={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};e.stringifyJSON=function(e){return window.JSON&&window.JSON.stringify?window.JSON.stringify(e):t("",{"":e})}}(jQuery),jQuery.download=function(e,a,i){if(e&&a){a="string"==typeof a?a:jQuery.param(a);var t="";jQuery.each(a.split("&"),function(){var e=this.split("=");t+='<input type="hidden" name="'+e[0]+'" value="'+e[1]+'" />'}),jQuery('<form action="'+e+'" method="'+(i||"post")+'">'+t+"</form>").appendTo("body").submit().remove()}};