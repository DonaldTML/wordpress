adlogicJobSearch.registered_applied_history=[],adlogicJobSearch.registered_applied_history_pagination_bars=[],adlogicJobSearch.discardHashChange=!1,function(e){e(window).bind("hashchange",function(a){0==adlogicJobSearch.discardHashChangeSavedJobs&&(e.each(adlogicJobSearch.registered_applied_history,function(a,t){t.adlogicAppliedHistory("hashOptions",e.deparam.fragment())}),"undefined"!=typeof e.deparam.fragment().page&&e.each(adlogicJobSearch.registered_applied_history,function(a,t){t.adlogicAppliedHistoryPagination("setPage",e.deparam.fragment().page)})),adlogicJobSearch.discardHashChangeSavedJobs=!1}),e(document).ready(function(){e.isEmptyObject(e.deparam.fragment())||(e.each(adlogicJobSearch.registered_applied_history,function(a,t){t.adlogicAppliedHistory("hashOptions",e.deparam.fragment())}),"undefined"!=typeof e.deparam.fragment().page&&e.each(adlogicJobSearch.registered_applied_history,function(a,t){t.adlogicAppliedHistoryPagination("setPage",e.deparam.fragment().page)}))})}(jQuery),function(e){var a,t={searchParams:{},template:null},i=e.extend(t,i),r={},o={init:function(i){var i=e.extend(t,i);return e.each(adlogicJobSearch.registered_applied_history,function(e,t){t==this&&(a=!0)}),1==a?!1:(adlogicJobSearch.registered_applied_history=adlogicJobSearch.registered_applied_history.concat(this),"object"==typeof i.searchParams&&(r=e.extend(!0,{},i.searchParams)),o.getSavedJobs.apply(this,Array({refresh:!0})),void e(document).on("click",".ajb-save-job",function(a){jobAdId=parseInt(e(this).attr("id").replace("save_job_id_","")),adlogicJobSearch.sessionManager.adlogicSessionManager("isLoggedIn")?(e(this).hasClass("saved")&&e.get(adlogicJobSearch.ajaxurl+"?action=removeSavedJob&jobAdId="+jobAdId,function(e){window.location.reload()}),e(this).toggleClass("saved")):adlogicJobSearch.sessionManager.adlogicSessionManager("showDialog")}))},getSavedJobs:function(a){e(".ajb-save-job").toggleClass("saved",!0)},hashOptions:function(a){e.isEmptyObject(a)?(i.searchParams=e.extend(!0,{},r),e.each(adlogicJobSearch.adlogicJobSearch.registered_applied_history_pagination_bars,function(e,a){a.adlogicAppliedHistoryPagination("setPage",r.currentPage)}),o.update.apply(this,Array({force_update:!1,hash_update:!1}))):("undefined"!=typeof a.page&&(i.searchParams.currentPage=parseInt(a.page),i.searchParams.from=parseInt(a.page*i.items_per_page)+1,i.searchParams.to=(parseInt(a.page)+1)*i.items_per_page),"undefined"!=typeof a.costCenter&&(i.searchParams.cost_center_id=a.costCenter),o.update.apply(this,Array({force_update:!1,hash_update:!1})))},options:function(a){return a&&(i=e.extend(!0,i,a)),i},update:function(a){var t=this,r=i.ajaxServer,s={};"undefined"!=typeof i.searchParams.from&&(r+="&from="+i.searchParams.from),"undefined"!=typeof i.searchParams.to&&(r+="&to="+i.searchParams.to),s.page=i.searchParams.currentPage,t.prepend('<span class="adlogic_applied_history_loading_div"></span>'),e.blockUI.defaults.css={},t.block({message:"&nbsp;"}),e.each(adlogicJobSearch.registered_applied_history_pagination_bars,function(e,a){a.block({message:null})}),e.post(r,{template:i.template},function(r){"undefined"!=typeof r.search_results_html&&(t.empty(),t.append(r.search_results_html),("undefined"==typeof a||1==a.hash_update)&&(window.location.href=e.param.fragment(window.location.href,s)),e.each(adlogicJobSearch.registered_applied_history_pagination_bars,function(a,t){paginationOptions={results_count:r.search_results_attributes["@attributes"].count,current_page:i.searchParams.currentPage,items_per_page:r.search_results_attributes["@attributes"].resultsPerPage},t.adlogicAppliedHistoryPagination("options",paginationOptions),t.adlogicAppliedHistoryPagination("setPage",i.searchParams.currentPage),"undefined"!=typeof Cufon&&e.isFunction(Cufon)&&Cufon.refresh()})),"object"==typeof stButtons&&stButtons.locateElements(),o.getSavedJobs.apply(this),t.unblock(),e.each(adlogicJobSearch.registered_applied_history_pagination_bars,function(e,a){a.unblock()})}),t.remove(".adlogic_loading_div")}};e.fn.adlogicAppliedHistory=function(a){return o[a]?o[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void e.error("Method "+a+" does not exist on jQuery.adlogicAppliedHistory"):o.init.apply(this,arguments)}}(jQuery),function(e){var a={bound_search:"null",results_count:"",current_page:0,items_per_page:10,num_display_pages:10},t=e.extend(a,t),i=!1,r=function(r,o){0==i?"null"==a.bound_search?e.each(adlogicJobSearch.registered_applied_history,function(e,a){adlogicJobSearch.discardHashChangeSavedJobs=!0,fromPage=r*t.items_per_page+1,toPage=(r+1)*t.items_per_page,a.adlogicAppliedHistory("options",{searchParams:{from:fromPage,to:toPage,currentPage:r}}),a.adlogicAppliedHistory("update")}):(fromPage=r*t.items_per_page+1,toPage=(r+1)*t.items_per_page,e(a.bound_search).adlogicAppliedHistory("options",{searchParams:{from:fromPage,to:toPage,currentPage:r}}),e(a.bound_search).adlogicAppliedHistory("update")):i=!1},o={init:function(t){adlogicJobSearch.registered_applied_history_pagination_bars=adlogicJobSearch.registered_applied_history_pagination_bars.concat(this);var t=e.extend(a,t);i=!0,this.pagination(t.results_count,{current_page:t.current_page,items_per_page:t.items_per_page,num_display_entries:t.num_display_pages,num_edge_entries:2,callback:r})},options:function(a){return a&&(t=e.extend(!0,t,a)),t},setPage:function(e){i=!0,this.pagination(t.results_count,{current_page:e,items_per_page:t.items_per_page,num_display_entries:t.num_display_pages,num_edge_entries:2,callback:r})}};e.fn.adlogicAppliedHistoryPagination=function(a){return o[a]?o[a].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof a&&a?void e.error("Method "+a+" does not exist on jQuery.adlogicAppliedHistoryPagination"):o.init.apply(this,arguments)}}(jQuery);